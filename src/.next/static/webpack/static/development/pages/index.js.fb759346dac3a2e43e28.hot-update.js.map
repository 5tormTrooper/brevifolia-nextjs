{"version":3,"file":"static/webpack/static/development/pages/index.js.fb759346dac3a2e43e28.hot-update.js","sources":["webpack:///./components/BlogList.js"],"sourcesContent":["import Link from \"next/link\";\nimport blogListStyles from \"../styles/components/bloglist.scss\";\nimport matter from \"gray-matter\";\nimport { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\nconst BlogList = () => {\n  function getPosts() {\n    const posts = (ctx => {\n      const keys = ctx.keys();\n      const values = keys.map(ctx);\n      const data = keys.map((key, index) => {\n        // Create slug from filename\n        const slug = key\n          .replace(/^.*[\\\\\\/]/, \"\")\n          .split(\".\")\n          .slice(0, -1)\n          .join(\".\");\n        const value = values[index];\n        // Parse document\n        const document = matter(value.default);\n        return {\n          document,\n          slug\n        };\n      });\n      return data;\n    })(require.context(\"../posts\", true, /\\.md$/));\n    return posts;\n  }\n  function truncateSummary(content) {\n    return content.slice(0, 200).trimEnd();\n  }\n  function reformatDate(fullDate) {\n    return fullDate.toDateString().slice(4);\n  }\n  function renderPosts(posts) {\n    return posts.map(post => (\n      <Link\n        key={post.slug}\n        href={{ pathname: \"/blog\", query: { id: post.slug } }}\n      >\n        <li className={blogListStyles.li}>\n          <a>\n          <div className={blogListStyles.hero_image}>\n            <img src={post.document.data.hero_image} />\n          </div>\n          <div className={blogListStyles.blog__info}>\n            <h1>{post.document.data.title}</h1>\n            <h3> {reformatDate(post.document.data.date)}</h3>\n            <ReactMarkdown source={truncateSummary(post.document.content)} />\n          </div>\n          </a>\n        </li>\n      </Link>\n    ));\n  }\n  const [posts] = useState(getPosts());\n  return (\n    <ul className={blogListStyles.list}>\n      {posts.length > 1 && renderPosts(posts)}\n    </ul>\n  );\n};\n\nexport default BlogList;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAbA;AAmBA;AACA;AAnDA;AAAA;AAAA;AACA;AAmDA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}