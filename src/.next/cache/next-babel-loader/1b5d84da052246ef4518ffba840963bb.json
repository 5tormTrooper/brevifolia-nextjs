{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React from \"react\";\nimport Link from \"next/link\";\nimport blogListStyles from \"../styles/components/bloglist.scss\";\nimport matter from \"gray-matter\";\nimport { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\nvar BlogList = function BlogList() {\n  function getPosts() {\n    var posts = function (ctx) {\n      var keys = ctx.keys();\n      var values = keys.map(ctx);\n      var data = keys.map(function (key, index) {\n        // Create slug from filename\n        var slug = key.replace(/^.*[\\\\\\/]/, \"\").split(\".\").slice(0, -1).join(\".\");\n        var value = values[index]; // Parse document\n\n        var document = matter(value[\"default\"]);\n        return {\n          document: document,\n          slug: slug\n        };\n      });\n      return data;\n    }(require.context(\"../posts\", true, /\\.md$/));\n\n    return posts;\n  }\n\n  function truncateSummary(content) {\n    return content.slice(0, 200).trimEnd();\n  }\n\n  function reformatDate(fullDate) {\n    return fullDate.toDateString().slice(4);\n  }\n\n  function renderPosts(posts) {\n    return posts.map(function (post) {\n      return React.createElement(Link, {\n        key: post.slug,\n        href: {\n          pathname: \"/blog\",\n          query: {\n            id: post.slug\n          }\n        }\n      }, React.createElement(\"a\", null, React.createElement(\"li\", {\n        className: blogListStyles.li\n      }, React.createElement(\"div\", {\n        className: blogListStyles.hero_image\n      }, React.createElement(\"img\", {\n        src: post.document.data.hero_image\n      })), React.createElement(\"div\", {\n        className: blogListStyles.blog__info\n      }, React.createElement(\"h2\", null, post.document.data.title), React.createElement(\"h3\", null, \" \", reformatDate(post.document.data.date)), React.createElement(ReactMarkdown, {\n        source: truncateSummary(post.document.content)\n      })))));\n    });\n  }\n\n  var _useState = useState(getPosts()),\n      _useState2 = _slicedToArray(_useState, 1),\n      posts = _useState2[0];\n\n  return React.createElement(\"ul\", {\n    className: blogListStyles.list\n  }, posts.length > 1 && renderPosts(posts));\n};\n\nexport default BlogList;","map":null,"metadata":{},"sourceType":"module"}